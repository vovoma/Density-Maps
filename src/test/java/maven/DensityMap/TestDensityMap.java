package maven.DensityMap;
import static org.junit.Assert.*;

import org.junit.Test;

public class TestDensityMap {
@Test
public void TestDM()
{
	String inputData="{\r\n" + 
			"\"B\":[51.146045, 4.558267],\r\n" + 
			"\"A\":[51.386243, 4.501222],\r\n" + 
			"\"sensors\":[\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.287086, 4.51],\r\n" + 
			"\"value\":5\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.256742, 4.52],\r\n" + 
			"\"value\":7\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.197442, 4.53],\r\n" + 
			"\"value\":4\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.227102, 4.502],\r\n" + 
			"\"value\":6\r\n" + 
			"}]\r\n" + 
			"}" ;
	String outputData="{\"sensors\":[{\"firstCoordinate\":51.286969,\"secondCoordinate\":4.509921,\"value\":5.0,\"edge\":[[[51.286969,4.511347],[51.287825,4.511062],[51.28811,4.510777],[51.288395,4.509921],[51.28811,4.509066],[51.287825,4.50878],[51.286969,4.508495],[51.286113,4.50878],[51.285828,4.509066],[51.285542,4.509921],[51.285828,4.510777],[51.286113,4.511062]]]},{\"firstCoordinate\":51.25673,\"secondCoordinate\":4.519904,\"value\":7.0,\"edge\":[[[51.25673,4.52133],[51.257586,4.521045],[51.257871,4.52076],[51.258156,4.519904],[51.257871,4.519049],[51.257586,4.518763],[51.25673,4.518478],[51.255874,4.518763],[51.255589,4.519049],[51.255304,4.519904],[51.255589,4.52076],[51.255874,4.521045]]]},{\"firstCoordinate\":51.197394,\"secondCoordinate\":4.529887,\"value\":4.0,\"edge\":[[[51.197394,4.531313],[51.19825,4.531028],[51.198535,4.530743],[51.19882,4.529887],[51.198535,4.529031],[51.19825,4.528746],[51.197394,4.528461],[51.196538,4.528746],[51.196253,4.529031],[51.195967,4.529887],[51.196253,4.530743],[51.196538,4.531028]]]},{\"firstCoordinate\":51.227062,\"secondCoordinate\":4.501935,\"value\":6.0,\"edge\":[[[51.227062,4.503361],[51.227918,4.503076],[51.228203,4.502791],[51.228488,4.501935],[51.225636,4.501935],[51.225921,4.502791],[51.226206,4.503076]]]}]}" ;
	outputData=outputData.replaceAll("[\n\r]","");
	
	assertEquals(Red.redConstructor(inputData) ,outputData);
}
@Test
public void TestDMReverse()
{
	String inputData="{\r\n" + 
			"\"B\":[51.146045, 4.558267],\r\n" + 
			"\"A\":[51.386243, 4.501222],\r\n" + 
			"\"sensors\":[\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.287086, 4.51],\r\n" + 
			"\"value\":5\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.256742, 4.52],\r\n" + 
			"\"value\":7\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.197442, 4.53],\r\n" + 
			"\"value\":4\r\n" + 
			"},\r\n" + 
			"{\r\n" + 
			"\"coordinates\":[51.227102, 4.502],\r\n" + 
			"\"value\":6\r\n" + 
			"}]\r\n" + 
			"}" ;
String outputData ="{\"sensors\":[{\"firstCoordinate\":4.509921,\"secondCoordinate\":51.286969,\"value\":5.0,\"edge\":[[[4.511347,51.286969],[4.511062,51.287825],[4.510777,51.28811],[4.509921,51.288395],[4.509066,51.28811],[4.50878,51.287825],[4.508495,51.286969],[4.50878,51.286113],[4.509066,51.285828],[4.509921,51.285542],[4.510777,51.285828],[4.511062,51.286113]]]},{\"firstCoordinate\":4.519904,\"secondCoordinate\":51.25673,\"value\":7.0,\"edge\":[[[4.52133,51.25673],[4.521045,51.257586],[4.52076,51.257871],[4.519904,51.258156],[4.519049,51.257871],[4.518763,51.257586],[4.518478,51.25673],[4.518763,51.255874],[4.519049,51.255589],[4.519904,51.255304],[4.52076,51.255589],[4.521045,51.255874]]]},{\"firstCoordinate\":4.529887,\"secondCoordinate\":51.197394,\"value\":4.0,\"edge\":[[[4.531313,51.197394],[4.531028,51.19825],[4.530743,51.198535],[4.529887,51.19882],[4.529031,51.198535],[4.528746,51.19825],[4.528461,51.197394],[4.528746,51.196538],[4.529031,51.196253],[4.529887,51.195967],[4.530743,51.196253],[4.531028,51.196538]]]},{\"firstCoordinate\":4.501935,\"secondCoordinate\":51.227062,\"value\":6.0,\"edge\":[[[4.503361,51.227062],[4.503076,51.227918],[4.502791,51.228203],[4.501935,51.228488],[4.501935,51.225636],[4.502791,51.225921],[4.503076,51.226206]]]}]}";	
	outputData=outputData.replaceAll("[\n\r]","");
	
	assertEquals(Red.redConstructorReverse(inputData) ,outputData);
}
	
}
